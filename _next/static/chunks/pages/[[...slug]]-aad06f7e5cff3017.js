(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[243],{4360:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/[[...slug]]",function(){return a(8942)}])},8942:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ey,initialFilters:()=>eb});var s=a(7876),l=a(4232),r=a(7041),n=a(2987),i=a(8992),o=a(4317);let c=i.Op,d=l.createContext({}),x=e=>{let{...t}=e;return(0,s.jsx)(d.Provider,{value:{name:t.name},children:(0,s.jsx)(i.xI,{...t})})},u=()=>{let e=l.useContext(d),t=l.useContext(m),{getFieldState:a}=(0,i.xW)(),s=(0,i.lN)({name:e.name}),r=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...r}},m=l.createContext({});function h(e){let{className:t,...a}=e,r=l.useId();return(0,s.jsx)(m.Provider,{value:{id:r},children:(0,s.jsx)("div",{"data-slot":"form-item",className:(0,o.cn)("grid gap-2",t),...a})})}function g(e){let{...t}=e,{error:a,formItemId:l,formDescriptionId:r,formMessageId:i}=u();return(0,s.jsx)(n.DX,{"data-slot":"form-control",id:l,"aria-describedby":a?"".concat(r," ").concat(i):"".concat(r),"aria-invalid":!!a,...t})}var f=a(4615),p=a(822),j=a(1575);function v(e){let{...t}=e;return(0,s.jsx)(f.bL,{"data-slot":"select",...t})}function b(e){let{className:t,size:a="default",children:l,...r}=e;return(0,s.jsxs)(f.l9,{"data-slot":"select-trigger","data-size":a,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[l,(0,s.jsx)(f.In,{asChild:!0,children:(0,s.jsx)(p.A,{className:"size-4 opacity-50"})})]})}function y(e){let{className:t,children:a,position:l="popper",...r}=e;return(0,s.jsx)(f.ZL,{children:(0,s.jsxs)(f.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...r,children:[(0,s.jsx)(w,{}),(0,s.jsx)(f.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(N,{})]})})}function w(e){let{className:t,...a}=e;return(0,s.jsx)(f.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(j.A,{className:"size-4"})})}function N(e){let{className:t,...a}=e;return(0,s.jsx)(f.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(p.A,{className:"size-4"})})}var C=a(3431),k=a(9470),z=a(3276);function _(e){let{className:t,...a}=e;return(0,s.jsx)(k.bL,{"data-slot":"checkbox",className:(0,o.cn)("peer h-5 w-5 border-input dark:bg-[rgba(102,111,232,1)] data-[state=checked]:bg-[rgba(102,111,232,1)] data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-[rgba(102,111,232,1)] data-[state=checked]:border-[rgba(128,151,177,1)] focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,s.jsx)(k.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(z.A,{className:"size-4"})})})}let E=e=>{let{name:t,items:a,placeholder:l="Выберите...",icon:r,singleСhoice:n=!1}=e,o=(0,i.xW)();return(0,s.jsx)(x,{control:o.control,name:t,render:e=>{let{field:{onChange:t,value:i}}=e,o=Array.isArray(i)?i:[];return(0,s.jsx)(h,{className:"flex-1 flex-shrink-0",children:(0,s.jsxs)(v,{children:[(0,s.jsx)(g,{children:(0,s.jsxs)(b,{className:"w-full rounded-xl bg-[var(--color-white)]",children:[r&&r,(0,s.jsx)(C.E,{className:"w-full truncate",alignment:"left",size:"sm",color:"gray",children:o.length>0?o.length>3?o.slice(0,2).join(", ")+"...":o.join(", "):l})]})}),(0,s.jsx)(y,{className:"w-full rounded-xl bg-[var(--color-white)]",children:null==a?void 0:a.map(e=>(0,s.jsxs)("div",{onClick:()=>(function(e){let a;t(n?o.includes(e)?[]:[e]:o.includes(e)?o.filter(t=>t!==e):[...o,e])})(e),className:"relative flex cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm hover:bg-muted",children:[(0,s.jsx)(_,{checked:o.includes(e),className:"absolute left-2 top-1/2 -translate-y-1/2"}),(0,s.jsx)("label",{children:e})]},e))})]})})}})};var F=a(4242),K=a(8971);let M=e=>{let{name:t,placeholder:a,icon:l,className:r}=e,n=(0,i.xW)();return(0,s.jsxs)("div",{className:"flex-1 flex relative",children:[(0,s.jsx)(i.xI,{name:t,control:n.control,render:e=>{let{field:t}=e;return(0,s.jsx)(K.p,{style:{lineHeight:"24px",fontSize:"16px"},className:"h-auto placeholder:text-[var(--color-gray)] border-none leading-6 text-base bg-[var(--color-white)] text-[var(--color-gray)] px-5 py-3 rounded-[12px] ".concat(l?"pr-14":""," ").concat(r||""),...t,placeholder:a})}}),l&&(0,s.jsx)("div",{className:"absolute right-5 bottom-[14px]",children:l})]})};var A=a(8821),I=a(3608),L=a(4502);function R(e){let{className:t,defaultValue:a,value:r,min:n=0,max:i=100,...c}=e,d=l.useMemo(()=>Array.isArray(r)?r:Array.isArray(a)?a:[n,i],[r,a,n,i]);return(0,s.jsxs)(L.bL,{"data-slot":"slider",defaultValue:a,value:r,min:n,max:i,className:(0,o.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...c,children:[(0,s.jsx)(L.CC,{"data-slot":"slider-track",className:(0,o.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,s.jsx)(L.Q6,{"data-slot":"slider-range",className:(0,o.cn)("bg-[rgba(102,111,232,1)] absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(e,t)=>(0,s.jsx)(L.zi,{"data-slot":"slider-thumb",className:"border-[rgba(102,111,232,1)] bg-[rgba(102,111,232,1)] ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}var D=a(2413);function S(e){let{...t}=e;return(0,s.jsx)(D.bL,{"data-slot":"accordion",...t})}function $(e){let{className:t,...a}=e;return(0,s.jsx)(D.q7,{"data-slot":"accordion-item",className:(0,o.cn)("border-b last:border-b-0",t),...a})}function T(e){let{className:t,children:a,...l}=e;return(0,s.jsx)(D.Y9,{className:"flex",children:(0,s.jsxs)(D.l9,{"data-slot":"accordion-trigger",className:(0,o.cn)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...l,children:[a,(0,s.jsx)(p.A,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function W(e){let{className:t,children:a,...l}=e;return(0,s.jsx)(D.UC,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...l,children:(0,s.jsx)("div",{className:(0,o.cn)("pt-0 pb-4",t),children:a})})}let P=e=>{let{name:t,className:a,min:l=0,title:n,max:o=100,step:c=1}=e,{control:d,setValue:x,watch:u}=(0,i.xW)(),[m,h]=u(t)||[l,o];return(0,s.jsx)(S,{className:"bg-white flex flex-col gap-1 p-3 rounded-[12px]",type:"single",collapsible:!0,children:(0,s.jsxs)($,{value:"item-1",children:[(0,s.jsxs)(D.u,{className:"flex items-center gap-1",children:[(0,s.jsx)(C.E,{children:n}),(0,s.jsx)(r.$,{className:"text-[rgba(128,151,177,1)] underline ml-auto",size:"sm",variant:"text",onClick:()=>x(t,[l,o]),children:"Сбросить"}),(0,s.jsx)(T,{className:"p-0 cursor-pointer"})]}),(0,s.jsxs)(W,{children:[(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,s.jsx)(C.E,{size:"sm",alignment:"left",children:"От"}),(0,s.jsx)(K.p,{className:"outline-0",type:"number",value:m,onChange:e=>x(t,[Number(e.target.value),h])})]}),(0,s.jsx)("svg",{className:"relative top-2.5",width:"16",height:"2",viewBox:"0 0 16 2",fill:"none",children:(0,s.jsx)("path",{d:"M0 1H16",stroke:"#8097B1"})}),(0,s.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,s.jsx)(C.E,{size:"sm",alignment:"left",children:"До"}),(0,s.jsx)(K.p,{type:"number",value:h,onChange:e=>x(t,[m,Number(e.target.value)])})]})]}),(0,s.jsx)("div",{className:"h-6 flex items-center",children:(0,s.jsx)(i.xI,{name:t,control:d,render:e=>{let{field:t}=e;return(0,s.jsx)(R,{className:a,value:t.value||[l,o],min:l,max:o,step:c,onValueChange:t.onChange})}})})]})]})})},G=e=>{let{name:t,data:a,title:l}=e,{control:r,setValue:n}=(0,i.xW)(),o=(0,i.FH)({name:t,control:r})||[],c=e=>{o.includes(e)?n(t,o.filter(t=>t!==e)):n(t,[...o,e])};return(0,s.jsx)(S,{className:"bg-white flex flex-col gap-1 p-3 rounded-[12px]",type:"single",collapsible:!0,children:(0,s.jsx)($,{value:"item-1",children:(0,s.jsxs)("div",{className:"flex flex-col gap-[4px]",children:[(0,s.jsxs)(D.u,{className:"flex items-center gap-1 justify-between",children:[(0,s.jsx)(C.E,{children:l}),(0,s.jsx)(T,{className:"p-0 cursor-pointer"})]}),(0,s.jsx)(W,{className:"flex flex-col gap-2",children:a.map((e,a)=>(0,s.jsxs)("label",{className:"h-[20px] flex items-center gap-1.5 cursor-pointer",children:[(0,s.jsx)(i.xI,{name:t,control:r,render:()=>(0,s.jsx)(_,{checked:o.includes(e),onCheckedChange:()=>c(e)})}),(0,s.jsx)(C.E,{children:e})]},a))})]})})})};var V=a(1435);let H=e=>{let{name:t,data:a,title:l}=e,{control:r,setValue:n}=(0,i.xW)();function o(e){n(t,[e])}return(0,s.jsx)(S,{className:"bg-white flex flex-col gap-1 p-3 rounded-[12px]",type:"single",collapsible:!0,children:(0,s.jsx)($,{value:"item-1",children:(0,s.jsxs)("div",{className:"flex flex-col gap-[4px]",children:[(0,s.jsxs)(D.u,{className:"flex items-center gap-1 justify-between",children:[(0,s.jsx)(C.E,{children:l}),(0,s.jsx)(T,{className:"p-0 cursor-pointer"})]}),(0,s.jsx)(W,{className:"flex flex-col gap-2",children:(0,s.jsx)(i.xI,{control:r,name:t,render:e=>{var t;let{field:l}=e;return(0,s.jsx)(V.bL,{...l,onValueChange:o,value:null!=(t=l.value[0])?t:"",className:"flex flex-col gap-3",children:a.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(V.q7,{value:e,id:e,className:"w-5 h-5 rounded-full border border-[rgba(128,151,177,1)] flex items-center justify-center focus:outline-none",children:(0,s.jsx)(V.C1,{className:"w-3 h-3 bg-[rgba(102,111,232,1)] rounded-full"})}),(0,s.jsx)("label",{htmlFor:e,className:"select-none cursor-pointer",children:(0,s.jsx)(C.E,{children:e})})]},t))})}})})]})})})};var O=a(8295);function q(e){let{className:t,...a}=e;return(0,s.jsx)(O.bL,{"data-slot":"switch",className:(0,o.cn)("peer h-[28px] w-12 data-[state=checked]:bg-[rgba(102,111,232,1)] data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,s.jsx)(O.zi,{style:{width:"24px",height:"24px"},"data-slot":"switch-thumb",className:(0,o.cn)("bg-[rgba(255,255,255,1)] dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-4px)] data-[state=unchecked]:-translate-x")})})}let Y=["мужской","женский"],U=["vip","постоянный","инстаграмм","приезжий","без бороды","проходил мимо","был в другом салоне"],X=["Алексей","Марина","Сергей","Екатерина","Иван","Роман","Ирина","Кирилл","Михаил","Анна"],B=["мужская стрижка + моделирование бороды","мужская стрижка + премиум моделирование бороды","женская стрижка","окрашивание волос","укладка волос","маникюр","педикюр","массаж головы","бритьё бороды","коррекция бороды","детская стрижка","стрижка усов"],Q=["онлайн","оффлайн"],Z=["полная оплата","частичная оплата","сотрудник важен","оплата смартфоном","запись через call centre"],J=["ожидании","пришел","не пришел","подтвердил"],ee=["включена","отключена"],et=[{icon:(0,s.jsx)(F.Gg,{}),name:"categoryClient",placeholder:"Категории клиентов",items:U},{icon:(0,s.jsx)(F.Gg,{}),name:"male",placeholder:"Пол",items:Y},{icon:(0,s.jsx)(F.n_,{}),name:"masters",placeholder:"Мастера",items:X},{icon:(0,s.jsx)(F.np,{}),name:"services",placeholder:"Услуги",items:B},{icon:(0,s.jsx)(F.np,{}),name:"activity",placeholder:"Активность",items:ee}],ea=[{accessorKey:"names",header:"Наименование клиента"},{accessorKey:"priority",header:"Приоритет"},{accessorKey:"sendTime",header:"Время отправки"},{accessorKey:"visitsCount",header:"Кол-во визитов"},{accessorKey:"gender",header:"Пол"},{accessorKey:"age",header:"Возраст"},{accessorKey:"clientCategories",header:"Категория клиента"},{accessorKey:"masters",header:"Мастер"},{accessorKey:"services",header:"Услуга"},{accessorKey:"format",header:"Формат создания"},{accessorKey:"categoryRecords",header:"Категория записи"},{accessorKey:"status",header:"Статус"},{accessorKey:"activity",header:"Активность"},{accessorKey:"actions",header:"Действия",cell:()=>(0,s.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,s.jsx)(q,{}),(0,s.jsx)(r.$,{variant:"text",className:"bg-[rgba(235,238,246,1)] aspect-square p-2",children:(0,s.jsx)(F.nN,{})}),(0,s.jsx)(r.$,{variant:"text",className:"bg-[rgba(235,238,246,1)] aspect-square p-2",children:(0,s.jsx)(F.nc,{})})]})}];function es(e){let{setOpenModal:t,handleSetFilters:a,handleCrearFilters:l}=e;return(0,s.jsxs)(A.h,{style:{maxWidth:"none"},className:"bg-[rgba(246,245,246,1)] w-[544px] max-w-[544px]",side:"right",children:[(0,s.jsxs)(A.Fm,{className:" px-6 pt-5 pb-6 flex gap-9 flex-row border-none items-center",children:[(0,s.jsx)(r.$,{variant:"text",onClick:()=>t(!1),children:(0,s.jsx)(F.Qp,{})}),(0,s.jsx)(I.D,{size:"h3",children:"Фильтр"})]}),(0,s.jsxs)("div",{className:"flex flex-col px-3 h-full overflow-y-auto gap-2",children:[(0,s.jsx)(P,{title:"Приоритет",min:0,max:1e3,name:"priority"}),(0,s.jsx)(G,{title:"Категории клиентов",name:"categoryClient",data:U}),(0,s.jsx)(H,{title:"Пол",name:"male",data:Y}),(0,s.jsx)(P,{title:"Возраст",min:0,max:150,name:"age"}),(0,s.jsx)(P,{title:"Количество визитов",min:0,max:1e6,name:"visitsCount"}),(0,s.jsx)(G,{title:"Мастера",name:"masters",data:X}),(0,s.jsx)(G,{title:"Услуги",name:"services",data:B}),(0,s.jsx)(H,{title:"Формат",name:"format",data:Q}),(0,s.jsx)(G,{title:"Категории записей",name:"categoryRecords",data:Z}),(0,s.jsx)(G,{title:"Статус записи",name:"status",data:J}),(0,s.jsx)(H,{title:"Активность",name:"activity",data:ee}),(0,s.jsxs)("div",{className:"mt-auto sticky bottom-0 flex flex-col w-full bg-[rgba(255,255,255,1)] p-3 gap-2 rounded-tl-[12px] shadow rounded-tr-[12px]",children:[(0,s.jsx)(r.$,{variant:"filled",onClick:a,children:"Показать"}),(0,s.jsx)(r.$,{onClick:l,variant:"text",children:"Сбросить фильтры"})]})]})]})}let el={name:"",categoryClient:[],male:[],masters:[],services:[],activity:[],priority:[0,1e3],categoryRecords:[],age:[0,150],visitsCount:[0,1e6],format:[],status:[]},er=e=>{let{setAllFilters:t}=e,a=(0,i.mN)({defaultValues:el}),[n,o]=(0,l.useState)(!1),{reset:d,getValues:x}=a;function u(){let e=x();t(t=>({...t,...e}))}function m(){d(el),t(el)}return(0,s.jsx)(c,{...a,children:(0,s.jsxs)("div",{className:"w-full flex flex-col gap-5",children:[(0,s.jsxs)("div",{className:"flex-1 flex gap-3 items-center flex-wrap",children:[(0,s.jsx)(M,{name:"name",placeholder:"Введите наименование",icon:(0,s.jsx)(F.vj,{})}),(0,s.jsxs)(r.$,{onClick:()=>alert("Эта кнопка ничего не делает:)"),className:"w-[220px]",size:"lg",textSize:"large",variant:"filled",children:[(0,s.jsx)(F.FW,{})," Создать новое"]})]}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col gap-4",children:[(0,s.jsx)("div",{className:"flex flex-1 gap-4 flex-wrap",children:et.map((e,t)=>{let a="male"===e.name||"activity"===e.name;return(0,l.createElement)(E,{singleСhoice:a,...e,key:t})})}),(0,s.jsxs)("div",{className:"flex items-center flex-1 justify-between  flex-wrap",children:[(0,s.jsxs)(A.cj,{open:n,onOpenChange:o,children:[(0,s.jsx)(A.CG,{asChild:!0,children:(0,s.jsxs)(r.$,{variant:"text",children:[(0,s.jsx)(F.YG,{})," Все фильтры"]})}),(0,s.jsx)(es,{handleSetFilters:u,handleCrearFilters:m,setOpenModal:o})]}),(0,s.jsx)(r.$,{onClick:u,className:"w-40",variant:"filled",children:"Применить"}),(0,s.jsxs)(r.$,{onClick:m,variant:"text",children:[(0,s.jsx)(F.YG,{})," Очистить фильтры ",(0,s.jsx)(F.Sh,{})]})]})]})]})})};var en=a(7459),ei=a(2653);function eo(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,o.cn)("w-full caption-bottom text-sm",t),...a})})}function ec(e){let{className:t,...a}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,o.cn)("[&_tr]:border-b",t),...a})}function ed(e){let{className:t,...a}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,o.cn)("[&_tr:last-child]:border-0",t),...a})}function ex(e){let{className:t,...a}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,o.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function eu(e){let{className:t,...a}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,o.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function em(e){let{className:t,...a}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,o.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}let eh=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,eg=e=>e[Math.floor(Math.random()*e.length)],ef=(e,t)=>new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())),ep=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Array.from({length:e}).map((e,t)=>({names:"Клиент ".concat(t+1),priority:"".concat(eh(0,1e3)),sendTime:ef(new Date(2023,0,1),new Date).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),visitsCount:eh(0,1e6),gender:eg(Y),age:eh(18,90),clientCategories:eg(U),masters:eg(X),services:eg(B),actions:null,categoryRecords:eg(Z),format:eg(Q),status:eg(J),activity:eg(ee)}))},ej=ea.map(e=>{let{header:t}=e;return String(t)});function ev(e){var t;let{allFilters:a,initialData:r}=e,n=(0,i.mN)({defaultValues:{tColumns:ej}}),o=n.watch("tColumns"),d=(0,l.useMemo)(()=>r.filter(e=>{var t;let s=e.age>=a.age[0]&&e.age<=a.age[1],l=e.visitsCount>=a.visitsCount[0]&&e.visitsCount<=a.visitsCount[1],r=!a.male.length||a.male.includes(e.gender),n=!a.categoryClient.length||a.categoryClient.includes(e.clientCategories),i=!(null==(t=a.category)?void 0:t.length)||a.category.includes(e.clientCategories),o=!a.masters.length||a.masters.includes(e.masters),c=!a.services.length||a.services.includes(e.services),d=parseInt(e.priority)>=a.priority[0]&&parseInt(e.priority)<=a.priority[1],x=!a.name||e.names.toLowerCase().includes(a.name.toLowerCase()),u=!a.categoryRecords.length||a.categoryRecords.includes(e.categoryRecords),m=!a.format.length||a.format.includes(e.format),h=!a.status.length||a.status.includes(e.status),g=!a.activity.length||a.activity.includes(e.activity);return s&&l&&r&&n&&i&&o&&c&&d&&x&&u&&m&&h&&g}),[a]),x=(0,l.useMemo)(()=>ea.filter(e=>{let{header:t}=e;return o.includes(String(t))}),[o]),u=(0,en.N4)({data:d,columns:x,getCoreRowModel:(0,ei.HT)()});return(0,s.jsx)(c,{...n,children:(0,s.jsxs)("div",{className:"rounded-md border bg-white border-gray-200 h-full flex-1 overflow-y-auto w-full flex-shrink-0",children:[(0,s.jsxs)("div",{className:"flex gap-2 items-center py-6 px-5",children:[(0,s.jsx)(I.D,{children:"Напоминание о визите"})," ",(0,s.jsx)(I.D,{color:"gray",children:"".concat(d.length)}),(0,s.jsx)("div",{className:"ml-auto",children:(0,s.jsx)(E,{icon:(0,s.jsx)(F.sY,{}),placeholder:"Данные",name:"tColumns",items:ej})})]}),(0,s.jsxs)(eo,{className:"min-w-0 table-fixed w-full",children:[(0,s.jsx)(ec,{children:u.getHeaderGroups().map(e=>(0,s.jsx)(ex,{children:e.headers.map(e=>(0,s.jsx)(eu,{className:"min-w-0  truncate",children:(0,s.jsx)(C.E,{nowrap:!1,size:"sm",color:"gray",children:e.isPlaceholder?null:(0,en.Kv)(e.column.columnDef.header,e.getContext())})},e.id))},e.id))}),(0,s.jsx)(ed,{children:(null==(t=u.getRowModel().rows)?void 0:t.length)?u.getRowModel().rows.map(e=>(0,s.jsx)(ex,{children:e.getVisibleCells().map(e=>(0,s.jsx)(em,{className:"min-w-0  truncate",children:(0,s.jsx)(C.E,{alignment:"left",size:"xs",className:"truncate",children:(0,en.Kv)(e.column.columnDef.cell,e.getContext())})},e.id))},e.id)):(0,s.jsx)(ex,{children:(0,s.jsx)(em,{colSpan:ea.length,className:"h-24 text-center",children:"-"})})})]})]})})}let eb={categoryClient:[],male:[],name:"",masters:[],services:[],activity:[],priority:[0,1e3],categoryRecords:[],age:[0,150],visitsCount:[0,1e6],format:[],status:[]};function ey(){let[e,t]=(0,l.useState)(eb),[a,r]=(0,l.useState)([]);return((0,l.useEffect)(()=>{r(ep(20))},[]),0===a.length)?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsxs)("div",{className:"w-full h-full bg-[#F6F5F6]  flex flex-col gap-3 ",children:[(0,s.jsx)(er,{setAllFilters:t}),(0,s.jsx)(ev,{initialData:a,allFilters:e})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[772,636,593,792],()=>t(4360)),_N_E=e.O()}]);